
<html>
<head>
<title>Force Diagram of Seoul Metro Stations</title>
<base target="_blank"> 
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style type="text/css">   
html { 
  height: 100%;
  }
body {
  margin: 0px;
  font-family: menlo;
  font-size: 14px;
  overflow:hidden;
  } 
svg {
  width: 100%;
  height: 100%;
  }
.container {
  width: 330px;
  line-height: 22px;
  }  
.blue {
  stroke: rgba(7,91,153,0.75);
  }
.orange{
  stroke: rgba(252,125,32,0.75);
  }
.red{
  stroke: rgba(255,28,24,0.75);
  } 
.yellow {
  stroke: rgba(243,236,17,0.75);
  } 
.green{
  stroke: rgba(0,135,73,7.5); 
  } 
.silver{
  stroke: rgba(204,204,216,0.75); 
  } 
.shadow{
  text-shadow: 2px 2px white;
  }
#about {
  right: 10px;
  bottom: 10px;
  position: absolute;
  z-index: 1;  
  color: #000;
  text-shadow: 1px 1px 2px #CCC; 
  }
</style>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24842081-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body onresize="redraw()"> 
<h1>Metro Lines in Seoul Metropolitan Area [It's not finised yet!]</h1> 
<script type="text/javascript"> 
function redraw() {  
  force.size([window.innerWidth, window.innerHeight]).start(); 
  }

var nodes = {}; 
var relationship = [
{source: "Seoul Nat'l Univ. of Education", target:"Gangnam", type:"green"},
{source: "Gangnam", target:"Yeoksam", type:"green"},
{source: "Yeoksam", target:"Seolleung", type:"green"},
{source: "Seolleung", target:"Samseong", type:"green"},
{source: "Samseong", target:"Sports Complex", type:"green"},
{source: "Sports Complex", target:"Shicheon", type:"green"},
{source: "Shicheon", target:"Jamsil", type:"green"},
{source: "Jamsil", target:"Seongnae", type:"green"},
{source: "Seongnae", target:"Gangbyeon", type:"green"},
{source: "Gangbyeon", target:"Guui", type:"green"},
{source: "Guui", target:"Konkuk Univ.", type:"green"},
{source: "Konkuk Univ.", target:"Seongsu", type:"green"},
{source: "Seongsu", target:"Ttukseom", type:"green"},
{source: "Ttukseom", target:"Hanyang Univ.", type:"green"},
{source: "Hanyang Univ.", target:"Wangsimni", type:"green"},
{source: "Wangsimni", target:"Sangwangsimni", type:"green"},
{source: "Sangwangsimni", target:"Sindang", type:"green"},
{source: "Sindang", target:"Dongdaemun History & Culture Park", type:"green"},
{source: "Dongdaemun History & Culture Park", target:"Euljiro 4(sa)-ga", type:"green"},
{source: "Euljiro 4(sa)-ga", target:"Euljiro 3(sam)-ga", type:"green"},
{source: "Euljiro 3(sam)-ga", target:"Euljiro 1(il)-ga", type:"green"},
{source: "Euljiro 1(il)-ga", target:"Chungjeongno", type:"green"},
{source: "Chungjeongno", target:"Ahyeon", type:"green"},
{source: "Ahyeon", target:"Ewha Womans Univ.", type:"green"}, 
{source: "Ewha Womans Univ.", target:"Shinchon", type:"green"},
{source: "Shinchon", target:"Hongik Univ.", type:"green"},
{source: "Hongik Univ.", target:"Hapjeong", type:"green"},
{source: "Hapjeong", target:"Dangsan", type:"green"},
{source: "Dangsan", target:"Yeongdeungpo-gu Office", type:"green"},
{source: "Yeongdeungpo-gu Office", target:"Sindorim", type:"green"},
{source: "Sindorim", target:"Daerim", type:"green"},
{source: "Daerim", target:"Guro Digital Complex", type:"green"},
{source: "Guro Digital Complex", target:"Shindaebang", type:"green"},
{source: "Shindaebang", target:"Sillim", type:"green"},
{source: "Sillim", target:"Bongcheon", type:"green"},
{source: "Bongcheon", target:"Seoul Nat'l Univ.", type:"green"},
{source: "Seoul Nat'l Univ.", target:"Nakseongdae", type:"green"},
{source: "Nakseongdae", target:"Sadang", type:"green"},
{source: "Sadang", target:"Bangbae", type:"green"},
{source: "Bangbae", target:"Seocho", type:"green"},
{source: "Seocho", target:"Seoul Nat'l Univ. of Education", type:"green"},

//Yellow Line bottom
{source: "Seolleung", target:"Hanti", type:"Yellow"},
{source: "Hanti", target:"Dogok", type:"Yellow"}, 
{source: "Dogok", target:"Guryong", type:"yellow"}, 
{source: "Guryong", target:"Yellow Line...", type:"yellow"}, 

//Oragne Line up
{source: "Seoul Nat'l Univ. of Education", target:"Express Bus Terminal", type:"orange"},
{source: "Express Bus Terminal", target:"Jamwon", type:"orange"}, 
{source: "Jamwon", target:"Orange Line...", type:"orange"}, 

//Oragne Line bottom
{source: "Seoul Nat'l Univ. of Education", target:"Nambu Bus Terminal", type:"orange"},
{source: "Nambu Bus Terminal", target:"Yangjae", type:"orange"}, 
{source: "Yangjae", target:"Maebong", type:"orange"}, 
{source: "Maebong", target:"Dogok", type:"orange"}, 
{source: "Dogok", target:"Daechi", type:"orange"}, 
{source: "Daechi", target:"Orange Line....", type:"orange"}, 

//Blue Line up
{source: "Sadang", target:"Namtaeryeong", type:"blue"},
{source: "Namtaeryeong", target:"Seonbawi", type:"blue"}, 
{source: "Seonbawi", target:"Blue Line...", type:"blue"}, 

//Blue Line bottom
{source: "Sadang", target:"Chongshin Univ.", type:"blue"},
{source: "Chongshin Univ.", target:"Dongjak", type:"blue"},
{source: "Dongjak", target:"Blue Line....", type:"blue"},
]; 

relationship.forEach(function(link) {
  link.source = nodes[link.source] || (nodes[link.source] = {name: link.source});
  link.target = nodes[link.target] || (nodes[link.target] = {name: link.target});
  }); 
var w = window.innerWidth,
    h = window.innerHeight;   
var force = d3.layout.force()
  .nodes(d3.values(nodes))
  .links(relationship)
  .gravity(0.12)
  .size([w, h])
  .linkDistance(1)
  .charge(-300)
  .on("tick", tick)
  .start(); 
var svg = d3.select("body").append("svg:svg");  
var path = svg.append("svg:g").selectAll("line")
  .data(force.links())
  .enter()
  .append("line")
  .style("stroke-width", 10)
  .attr("class", function(d) { return "link " + d.type; });
var circle = svg.append("svg:g").selectAll("circle")
  .data(force.nodes())
  .enter().append("svg:circle")
  .attr("r", 8)
  .call(force.drag); 
var text = svg.append("svg:g").selectAll("g")
  .data(force.nodes())
  .enter().append("svg:g");  
text.append("svg:text")
  .attr("x", 8)
  .attr("y", ".31em")
  .attr("class", "shadow")
 .text(function(d) { return d.name; }); 
text.append("svg:text")
  .attr("x", 8)
  .attr("y", ".31em")
  .text(function(d) { return d.name; });  
  
function tick() { 
  path.attr("x1", function(d) { return d.source.x; })
 .attr("y1", function(d) { return d.source.y; })
 .attr("x2", function(d) { return d.target.x; })
 .attr("y2", function(d) { return d.target.y; }); 
  circle.attr("transform", function(d) {
    return "translate(" + d.x + "," + d.y + ")";
    }); 
  text.attr("transform", function(d) {
    return "translate(" + d.x + "," + d.y + ")";
    });
  }
</script> 
</body> 