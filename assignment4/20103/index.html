<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>YG vs SM vs JYP</title>
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="css/mystyle.css" />

		<script type="text/javascript" src="http://mbostock.github.com/d3/d3.js?2.1.3"></script>
		<script type="text/javascript" src="http://mbostock.github.com/d3/d3.geom.js?2.1.3"></script>
	    <script type="text/javascript" src="http://mbostock.github.com/d3/d3.layout.js?2.1.3"></script>


	</head>
	<body>
		<h1><span style="font-family:고딕;font-size:30px;font-style:normal;font-weight:bold;letter-spacing:6px;color:#5E5E5E;">InfoVis | YG vs SM vs JYP Market Stats</span><span style="font-family:고딕;font-size:12px;font-style:normal;font-weight:normal;letter-spacing:4px;color:#5E5E5E;"> 2015-20103 | GiYoon Kim </span></h1>
      

		<h2><span style="font-family:고딕;font-size:20px;font-style:normal;font-weight:bold;letter-spacing:5px;color:#B13939;"> Stock Screener </span></h2>
		<h3><span style="font-family:고딕;font-size:17px;font-style:normal;font-weight:normal;letter-spacing:3px;color:#BF4949;"> Stock Trends | recent 6 months </span></h3>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/1.4.0/d3-legend.js"></script>
		<script src="//d3js.org/d3.v3.min.js"></script>
		
		<script src="lib/d3.js"></script>
		<script src="lib/jquery.js"></script>
   		<script src="lib/bootstrap.js"></script>

		<script src="js/mycode.js"></script>



		<script src="js/grouped.js"></script>

		<script src="js/codebox.js"></script>
		<script src="js/codebox2.js"></script>
		<script src="js/codebox3.js"></script>
		<script src="js/codeboxlegend.js"></script>






		<h2><span style="font-family:고딕;font-size:20px;font-style:normal;font-weight:bold;letter-spacing:5px;color:#B13939;">Member Firms</span></h2>
		<h3><span style="font-family:고딕;font-size:17px;font-style:normal;font-weight:normal;letter-spacing:3px;color:#BF4949;">Stock Ownership | Shares Held by members </span></h3>


		<svg id="agentPie" width = 420 height = 420></svg>
		<svg id="agentPie2" width = 420 height = 420 float=left></svg>
		<svg id="agentPie3" width = 420 height = 420 float=left></svg>
		<svg id="agentPielegend" width = 320 height = 320 float=left></svg>

		    <script type="text/javascript">

    var data = [{"label":"Direct", "value":5}, 
            {"label":"Institution", "value":5}, 
            {"label":"Foreign", "value":5},
            {"label":"Pension&Fund", "value":5},
            {"label":"Inv.Trust", "value":5},
            {"label":"Inv.Company", "value":5},
            {"label":"Insurance", "value":5},
            {"label":"Private Fund", "value":5},
            {"label":"Corporate etc", "value":5},
            {"label":"Bank", "value":5},
            ];

    //maximum of data you want to use
    var data_max = 5,

    //margins
    left_margin = 60,
    right_margin = 5,
    top_margin = 0,
    bottom_margin = 0;


    var w = 170,                        //width
        h = 320,                        //height
        color = d3.scale.category10(); 

    var x = d3.scale.linear()
        .domain([0, data_max])
        .range([0, w - ( left_margin + right_margin ) ]),
        y = d3.scale.ordinal()
        .domain(d3.range(data.length))
        .rangeBands([bottom_margin, h - top_margin], .4);

    var chart_top = h - y.rangeBand()/2 - top_margin;
    var chart_bottom = bottom_margin + y.rangeBand()/2;
    var chart_left = left_margin;
    var chart_right = w - right_margin;

    /*
     *  Setup the SVG element and position it
     */
    var vis = d3.select("body")
        .append("svg:svg")
            .attr("width", w)
            .attr("height", h)
        .append("svg:g")
            .attr("id", "barchart")
            .attr("class", "barchart")

    var bars = vis.selectAll("g.bar")
        .data(data)
    .enter()
        .append("svg:g")
            .attr("class", "bar")
            .attr("transform", function(d, i) { 
                    return "translate(0, " + y(i) + ")"; });

    bars.append("svg:rect")
        .attr("x", 0)
        .attr("width", function(d) {
                return (x(d.value));
                })
        .attr("height", y.rangeBand())
        .attr("fill", function(d, i) { return color(i) })

    //Labels
    var labels = vis.selectAll("g.bar")
        .append("svg:text")
            .attr("class", "label")
            .attr("x", 5)
            .attr("text-anchor", "right")
            .text(function(d) {
                    return d.label;
                    });

    var bbox = labels.node().getBBox();
    vis.selectAll(".label")
        .attr("transform", function(d) {
                return "translate(0, " + (y.rangeBand()/2 + bbox.height/4) + ")";
                });
    </script>




	</body>
</html>
